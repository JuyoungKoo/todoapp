# 공부 일지

작성값 : 날짜, 커밋 A(날짜, 제목) - 커밋 B(날짜, 제목)

cherry-pick 으로 필요한 부분만 가져와서 운영 반영

## 2021.10.26

### 서버란?

클라이언트의 요청을 받으면 서비스, 데이터를 제공하는 컴퓨터 혹은 프로그램
요청을 받으면 데이터를 보내주는 기계

서버 코드 예시 : if 누군가가 OO페이지 요청을 하면 OO페이지 html을 보내줌.

### 서버에 요청할 수 있는 4가지 방법

웹서버에 유저가 정식으로 할 수 있는 요청은 4 종류가 있다.

1. GET(읽기요청) : 웹 페이지를 읽을 때
2. POST(쓰기or생성요청) : 글쓸 때, 로그인할 때
3. PUT(수정요청) : 글이나 댓글 수정
4. DELETE(삭제요청) : 글이나 댓글 삭제

GET 요청을 하는 가장 쉬운 방법은 바로 브라우저 주소창에 URL을 입력하는 것.
브라우저의 URL입력란이 바로 GET 요청하는 곳이다.
BUT  URL을 외우는건 어렵기 때문에 웹개발자들은 버튼을 누르면 URL 이동을 할 수 있게 HTML을 짜놓는 것.

### Node.js

HTML : 웹페이지를 만들 때 사용하는 언어.
JavaScript : 웹페이지를 움직이게 만들 때 사용하는 언어.
Node.js : 자바스크립트 해석엔진인 V8이라는 프로그램을 만들었는데 성능이 뛰어나 이것만 떼어 살을 붙여 출시한 것.
Node.js란 자바스크립트를 브라우저 말고도 로컬 PC에서도 실행시켜줄 수 있는 실행창(런타임)이다.
Node.js는 요청이 차례로 들어왔을 때, 접수를 다 받고 빨리 완료된 것부터 처리해준다. Event Loop (동작 원리)

### 서버를 띄우기 위해 작성할 기본 템플릿

(server.js 파일)

const express = require('express');
const app = express();

app.listen(8080, function() {
    console.log('listening on 8080')
})

이렇게 쓰면 서버가 뜬다. 첫 두줄은 express 라이브러리 첨부와 사용. 밑에 app.listen()은 원하는 포트에 서버를 오픈하는 문법.
listen() 함수 안엔 두개의 파라미터가 필요.  listen(서버를 오픈할 포트번호, function(){서버 오픈시 실행할 코드}) 이렇게 사용. 
위 코드를 작성하고 터미널에서 node server.js 입력하면 서버가 뜸. 브라우저에서 localhost:8080 접속하면 확인 가능.

### 포트

컴퓨터는 외부와 통신할 수 있는 구멍이 60000개 정도 있다. 이걸 포트라고 부른다. 

### 콜백함수

function(){} 이라는 문법은 자바스크립트로 함수를 하나 만들겠다~ 라는 뜻

위 코드를 보면, 
.listen(서버를 오픈할 포트번호, function(){서버 오픈시 실행할 코드})
이렇게 되어있다. 
위의 예제 코드에선 함수명을 작명하는 부분이 없고 function(){} 이렇게 사용하고 있고,
listen()이라는 함수 안에 함수를 집어넣는 형태로 사용,
이걸 자바스크립트에선 '콜백함수'라고 부른다. 
정의는 함수안에 들어가는 함수 이다.
콜백함수를 왜 쓰냐면.. 자바스크립트에서 뭔가 순차적으로 실행하고 싶을 때 사용한다고 알 것
listen() 이라는 함수를 동작시킨 다음에 function(){} 내에 있는 코드를 실행해주세요~ 라는 뜻으로 사용
Node.js 특성상 코드를 연달아서 2개 적는다고 그 코드가 순차적으로 실행된다는 보장이 없기 때문에 뭔가 순차적으로 실행할 때 '함수안에 함수를 집어넣는 콜백함수'를 꼭 사용
순차적 실행이 목적이고 이 패턴을 눈에 익혀두시면 이제 서버만들 때 문법적으로 어려운게 전혀 없다.

### GET 요청시 HTML 파일을 보내주도록 하기.

1. HTML 파일이란? 웹페이지를 구성하는 언어. 그림 넣고 글씨 쓰고 예쁘게 꾸민 파일.

### Bootstrap (부트스트랩)  --> 빠르게 HTML UI 개발 --> Tailwind CSS도 알아볼 것

    - 트위터 사내 개발자들이 만든 웹 컴포넌트 라이브러리
    - 기존의 HTML CSS 디자인하고 메뉴만들고 하던 작업의 시간을 줄여주는 라이브러리
    - 구글 "Bootstrap" 검색 후 사이트 방문 -> Get started 메뉴 -> starter template라는 부분 코드 -> index.html에 적용
    - https://getbootstrap.com/docs/4.4/getting-started/introduction/#starter-template
    - 연습 때는 CSS파일 등을 직접 다운받아서 설치하지 않고 CDN 방식으로 했음. CSS 파일 다운 받아서 해볼 것.
    - npm 으로도 Bootstrap 설치 가능.

### 2021년 이후 설치한 프로젝트들은 body-parser 라이브러리가 express에 기본 포함이라 따로 npm으로 설치할 필요가 없음.

    - app.use(express.urlencoded({extended: true}))  
    - 이 코드만 위쪽에 추가해주면 된다.

### 콜백함수

1. 함수는 그냥 function 함수 (){} 이렇게 만든다.
2. 함수를 사용할 때 파라미터자리에 함수도 집어넣을 수 있다.
3. 예를 들면 get 함수를 쓸 때 계속 그래 왔다.
    - app.get(어쩌구, function(){} );
    - get도 소괄호를 뒤에 붙이는걸 보면 함수가 맞는데, get함수를 쓸 때 소괄호 내에 또 function(){} 이라는 함수를 집어넣고 있다.
    - 함수안에 들어가는 함수를 바로 콜백함수라고 부른다.
    - 자바스크립트에서는 순차적으로 실행하고 싶을 때 콜백함수를 이용한다.

    - app.get('/write', function(){어쩌구} );
    - 누군가 /write로 요청하면 콜백함수 내부의 어쩌구라는 코드를 실행해주세요~ 라고 순차적으로 기능을 실행할 때 많이 사용한다.
    - express 문법에 따라서 콜백함수 넣어서 써라 하면 콜백함수 넣어서 쓰면 된다.

    - app.get('/write', ( ) => { 어쩌구 } );
    - function 이라는 키워드 대신 => 라는 화살표를 이용 가능하다. (위치는 소괄호 오른쪽!! 주의)
    - ES6라고 부르는 자바스크립트 신문법. 콜백함수를 만들 때 코드가 간단해질 수 있어서 선호된다.
    - 함수 내부에서 this라는 키워드의 값이 바뀐다는 특징이 있는데 보통 상황에선 전혀 신경 쓸 필요없으니 자유롭게 사용하면 된다.
    
        